<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
			<style type="text/css">
			@keyframes pockChangeBefor{
				from{
					transform: rotateY(90deg);
				}
			}
			div#area1 {
				position:absolute;
				margin-left:10%;
			}
			div#area2 {
				position:absolute;
				margin-left:28%;
			}
			div#area3 {
				position:absolute;
				margin-left:45%;
			}
			div#area4 {
				position:absolute;
				margin-left:63%;
			}
			div#area5 {
				position:absolute;
				margin-left:80%;
			}
			
			img {
				display: block;
				position: absolute;
				width: 200px;
			}		
		</style>
		<script type="text/javascript">
			
			var totle = 5;
			
			var ary = new Array();
			for (var i=0; i<totle; i++) {
				ary[i] = i+1; 
			}
			ary.sort(function (){return Math.random()>0.5?1:-1});
			for (var i=0; i<totle; i++) {
				console.log(ary[i]);
			}
			
			function initHtmlPrimary(){
				for (var i=1; i<=5; i++) {
					var divP = document.createElement("img");
					divP.id = "poker0" + i;
					divP.src = "img/back.png";
					divP.changeSign = false;
					document.getElementById("area" +i).appendChild(divP);
				}
				initEvent1();
			}
			
			function initEvent1(){
				for(var i=1;i<=5;i++){
					var pos = i<10?"0"+i:""+i;
//					document.getElementById("poker" + pos).onclick = function(){console.log(this.changeSign); clickP(this);};
					document.getElementById("poker" + pos).onclick = function(){clickP(this);};
				}			
			}
			
//			function changeback(elment){
//				elment.src = "img/back.png";
//			}

			
			function changeback(id){
				document.getElementById(id).src = "img/back.png";
			}
			
			
			function clickP(elment){
				
				if(elment.changeSign){
					return;
				}
				var clickId = elment.id;
				var patt = /(\d)+/;
				var clickIdIndex = parseInt(patt.exec(elment.id));
				var clickValue = ary[clickIdIndex-1];
				console.log("当前ID" + clickId + "当前位置" + clickIdIndex + "当前位置值" +clickValue);
//				document.getElementById("poker" + position).style.animation = "pockChangeBefor 2s";
				
				var pos = clickValue<10? "0" + clickValue : clickValue;
				elment.src = "img/" + pos + ".png";
				elment.style.animation = "pockChangeBefor 2s";
				if(clickValue == clickIdIndex){
				}else{
					setTimeout("changeback('" + clickId +"')",2000);
				}
//				console.log("图片地址"  + document.getElementById("poker" + position).src);
			}
		</script>
	</head>
	<body onload="initHtmlPrimary()">
		<div id="area1">
			
		</div>
		<div id="area2">
			
		</div>
		<div id="area3">
			
		</div>
		<div id="area4">
			
		</div>
		<div id="area5">
			
		</div>
	</body>
</html>

<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			@keyframes pockChangeBefor{
				from{
					transform: rotateY(90deg);
				}
			}
			
			@keyframes pockChangeEnd{
				from{
					transform: rotateY(180deg);
				}
			}
			
			div#area1 {
				position:absolute;
				margin-left:10%;
			}
			div#area2 {
				position:absolute;
				margin-left:28%;
			}
			div#area3 {
				position:absolute;
				margin-left:45%;
			}
			div#area4 {
				position:absolute;
				margin-left:63%;
			}
			div#area5 {
				position:absolute;
				margin-left:80%;
			}
			/*div:hover {
				animation: pockChange 2s;
			}*/
			
			
			
		</style>
		<script type="text/javascript">
			var ary = new Array(1,2,3,4,5);
			var nowIndex = 1;
			ary.sort(function (){return Math.random()>0.5?1:-1});
			
			for(var i in ary){
				console.log(ary[i]);
			}
			
			function changeback(position){
				document.getElementById("poker" + position).src = "img/back.png";
			}
			
			function clickP(position){
				if(nowIndex>parseInt(position)){
					console.log("nowIndex 为" + nowIndex);
					console.log("poker" + position + "已经被翻过");
					console.log(document.getElementById("poker" + position).src);
					return;
				}
				document.getElementById("poker" + position).style.animation = "pockChange 2s";
				if(ary[nowIndex-1] == nowIndex){
					document.getElementById("poker" + position).src = "img/"+ position + ".png";
					document.getElementById("poker" + position).style.animation = "pockChange 2s";
				}else{
					document.getElementById("poker" + position).src = "img/" + (nowIndex<10?"0":"") + + ary[nowIndex-1] + ".png";
					document.getElementById("poker" + position).style.animation = "pockChangeBefor 2s";
					setTimeout("changeback('" + position +"')",2000);
				}
				// 这里只有第一次点击有效果，后面都触发不了
				nowIndex ++;
			}
			function aa(value){
				console.log(value);
			}
			
			function clickReg(){
				for(var i=1;i<=5 ;i++){
					document.getElementById("poker0" +i).onclick = aa(value);
					document.getElementById("poker0" +i).onclick = function(){aa(value);} 
				}
			}
			
		</script>
	</head>
	<body>
		<div id="area1">
			<img id="poker01" src="img/back.png" width="200px" onclick="clickP('01')" />
		</div>
		<div id="area2">
			<img id="poker02" src="img/back.png" width="200px" onclick="clickP('02')" />
		</div>
		<div id="area3">
			<img id="poker03" src="img/back.png" width="200px" onclick="clickP('03')" />
		</div>
		<div id="area4">
			<img id="poker04" src="img/back.png" width="200px" onclick="clickP('04')" />
		</div>
		<div id="area5">
			<img id="poker05" src="img/back.png" width="200px" onclick="clickP('05')" />
		</div>
	</body>
</html>

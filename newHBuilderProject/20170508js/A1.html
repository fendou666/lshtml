<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>排序</title>
	</head>
	<script type="text/javascript">
	
		var dates = new Array(5);
		
		
		for(var i=0; i<5;i++){
			document.write('number' + i + '<input type="number" id=num' + i + ' value="" /><br>');
//			document.write('number' + i + '<input type="text" id=num' + i + ' value="" /><br>');
			console.log(i);
		}
		
		function recCheck(value){
			var rec = /(\d)+/;
			var ret = value.match(rec);
			console.log(ret);
			return ret==null;
		}
		
		function checkData(){
			var element;
			var elementValue;
			for(var i=0; i<5;i++){
				element = document.getElementById("num" + i);
				elementValue = element.value;
//				try{
//					console.log(element.value);
//				}catch(e){
//					alert(e);
//				}
				if(!elementValue){
					alert("number"+i + "不存在");
				//正则匹配不成功
//				}else if(recCheck(elementValue)){
//					alert("number"+i + "输入的不是纯数字");
				}else{
					console.log("number"+i + "为：" + element.value);
					console.log(typeof element.value);
					dates[i] = parseInt(element.value);
				}
			}
		}
			
		function sort(){
			//每次都得检查数据，不能只检查一次
			checkData();
			var tmp = 0;
			for (var m=0; m<dates.length; m++) {
				for (var n=0; n<dates.length-m-1;n++) {
					if(dates[n]<dates[n+1]){
						
						tmp = dates[n];
						dates[n] = dates[n+1];
						dates[n+1] = tmp;
					}
				}
			}
			returnVal();
		}
		
		function reverseSort(){
			checkData();
			var tmp = 0;
			for (var m=0; m<dates.length; m++) {
				for (var n=0; n<dates.length-m-1;n++) {
					if(dates[n]>dates[n+1]){
						tmp = dates[n];
						dates[n] = dates[n+1];
						dates[n+1] = tmp;
					}
				}
			}
			returnVal();
		}
		
		function returnVal(){
			var element;
			for(var i=0; i<5;i++){
				element = document.getElementById("num" + i);
				element.value = dates[i];
			}
		}
		
		function showValue(){
			for(var i=0; i<5;i++){
				console.log(dates[i]);
			}
		}
		
	</script>
	<body>
		<button onclick="sort()">冒泡顺序</button>
		<button onclick="reverseSort()">冒泡逆序</button>
	</body>
</html>
